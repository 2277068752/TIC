module.exports = (function() {
var __MODS__ = {};
var __DEFINE__ = function(modId, func, req) { var m = { exports: {}, _tempexports: {} }; __MODS__[modId] = { status: 0, func: func, req: req, m: m }; };
var __REQUIRE__ = function(modId, source) { if(!__MODS__[modId]) return require(source); if(!__MODS__[modId].status) { var m = __MODS__[modId].m; m._exports = m._tempexports; var desp = Object.getOwnPropertyDescriptor(m, "exports"); if (desp && desp.configurable) Object.defineProperty(m, "exports", { set: function (val) { if(typeof val === "object" && val !== m._exports) { m._exports.__proto__ = val.__proto__; Object.keys(val).forEach(function (k) { m._exports[k] = val[k]; }); } m._tempexports = val }, get: function () { return m._tempexports; } }); __MODS__[modId].status = 1; __MODS__[modId].func(__MODS__[modId].req, m, m.exports); } return __MODS__[modId].m.exports; };
var __REQUIRE_WILDCARD__ = function(obj) { if(obj && obj.__esModule) { return obj; } else { var newObj = {}; if(obj != null) { for(var k in obj) { if (Object.prototype.hasOwnProperty.call(obj, k)) newObj[k] = obj[k]; } } newObj.default = obj; return newObj; } };
var __REQUIRE_DEFAULT__ = function(obj) { return obj && obj.__esModule ? obj.default : obj; };
__DEFINE__(1587527349007, function(require, module, exports) {
var e,t,n=function(){return{version:1,delay:1500,repeat:5,random:1,url:"https://aegis.qq.com/collect",speedUrl:"https://aegis.qq.com/speed",customTimeUrl:"https://aegis.qq.com/speed/custom",whiteListUrl:"https://aegis.qq.com/aegis/whitelist",performanceUrl:"https://aegis.qq.com/speed/performance"}},i=function(){function e(){var e=this;this.emit=function(t,n){if(e){var i,r=e.__EventsList[t];if(r&&r.length){r=r.slice();for(var o=0;o<r.length;o++){i=r[o];try{var s=i.callback.apply(e,[n]);if(1===i.type&&e.remove(t,i.callback),!1===s)break}catch(e){throw e}}}return e}},this.__EventsList={}}return e.prototype.indexOf=function(e,t){for(var n=0;n<e.length;n++)if(e[n].callback===t)return n;return-1},e.prototype.on=function(e,t,n){if(void 0===n&&(n=0),this){var i=this.__EventsList[e];if(i||(i=this.__EventsList[e]=[]),-1===this.indexOf(i,t)){var r={name:e,type:n||0,callback:t};return i.push(r),this}return this}},e.prototype.one=function(e,t){this.on(e,t,1)},e.prototype.remove=function(e,t){if(this){var n=this.__EventsList[e];if(!n)return null;if(!t){try{delete this.__EventsList[e]}catch(e){}return null}if(n.length){var i=this.indexOf(n,t);n.splice(i,1)}return this}},e}();function r(e){return(e=Array.isArray(e)?e:[e]).map((function(e,t){return Object.getOwnPropertyNames(e).map((function(n){return o(n)+"["+t+"]="+o(e[n])})).join("&")})).join("&")+(e.length?"&count="+e.length:"")}function o(e){try{return encodeURIComponent(decodeURIComponent(e))}catch(e){return""}}!function(e){e.INFO_ALL="-1",e.API_RESPONSE="1",e.INFO="2",e.ERROR="4",e.PROMISE_ERROR="8",e.AJAX_ERROR="16",e.SCRIPT_ERROR="32",e.IMAGE_ERROR="64",e.CSS_ERROR="128",e.CONSOLE_ERROR="256",e.MEDIA_ERROR="512",e.RET_ERROR="1024",e.REPORT="2048"}(e||(e={})),function(e){e[e.number=-1]="number",e.string=""}(t||(t={}));var s,u,c,a=function(e){try{return(JSON.stringify(e,(t=[],n=[],function(e,i){if(i instanceof Error)return"Error.message【 "+i.message+" 】;  Error.stack【 "+i.stack+" 】";if("object"==typeof i&&null!==i){var r=t.indexOf(i);if(-1!==r)return"[Circular "+n[r]+"]";t.push(i),n.push(e||"root")}return i}),4)||"undefined").replace(/"/gim,"")}catch(e){return"error happen when aegis stringify: \n "+e.message+" \n "+e.stack}var t,n};(function(){function e(e){this.type="xhr",this.data=e}Object.defineProperty(e.prototype,"sourceURL",{get:function(){return this.data.responseURL},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"status",{get:function(){return Number(this.data.status)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"headers",{get:function(){var e=this.data.getAllResponseHeaders().split("\n"),t={};return e.forEach((function(e){if(e){var n=e.split(": "),i=n[0],r=n[1].trim();t[i]=r}})),t},enumerable:!0,configurable:!0})})(),function(){function e(e,t){this.type="fetch",this.data=e||{},this.data.response=t}Object.defineProperty(e.prototype,"sourceURL",{get:function(){return this.data.url},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"status",{get:function(){return Number(this.data.status)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"headers",{get:function(){var e={};return this.data.headers.forEach((function(t,n){e[n]=t})),e},enumerable:!0,configurable:!0})}();function f(e,t){var n;void 0===e&&(e=0);var i=[];return function(r,o){if(i.push(r),t&&i.length>=t)return o(i.splice(0,i.length)),void(n&&clearTimeout(n));n&&clearTimeout(n),n=setTimeout((function(){n=null,o(i.splice(0,i.length))}),e)}}!function(e){e[e.android=1]="android",e[e.ios=2]="ios",e[e.other=100]="other"}(s||(s={})),function(e){e[e.oldX5=1]="oldX5",e[e.newX5=2]="newX5",e[e.other=3]="other"}(u||(u={})),function(e){e[e.unknown=100]="unknown",e[e.wifi=1]="wifi",e[e.net2g=2]="net2g",e[e.net3g=3]="net3g",e[e.net4g=4]="net4g",e[e.net5g=5]="net5g",e[e.net6g=6]="net6g"}(c||(c={}));var l=function(e,t){return Array.isArray(e)?t(e.map((function(e){return{msg:"string"==typeof e.msg?e.msg:a(e.msg),level:e.level}}))):t({msg:"string"==typeof e.msg?e.msg:a(e.msg),level:e.level})};function p(t){var n=!1,i=!1;setTimeout((function(){t.send({url:t.config.whiteListUrl||""},(function(e){try{0===(e=JSON.parse(e)||{}).retcode&&(n=e.result.is_in_white_list)}catch(e){}i=!0}),(function(){i=!0}))}),50);var r=[];return function(t,o){if(n)o(t.concat(r.splice(0)).map((function(t){return t.level===e.INFO_ALL&&(t.level=e.INFO),t})));else{var s=t.filter((function(t){if(t.level!==e.INFO&&t.level!==e.API_RESPONSE)return t.level===e.INFO_ALL&&(t.level=e.INFO),!0;i||(r.push(t),r.length>=200&&(r.length=200))}));s.length&&o(s)}}}var h=function(){};function g(e){if(!e||!e.reduce||!e.length)throw new TypeError("createPipeline 方法需要传入至少有一个 pipe 的数组");return 1===e.length?function(t,n){e[0](t,n||h)}:e.reduce((function(e,t){return function(n,i){return void 0===i&&(i=h),e(n,(function(e){return t&&t(e,i)}))}}))}var m=function(){function t(e){var t=this;this.config=n(),this.lifeCycle=new i,this.bean={},this._normalLogPipeline=g([f(this.config.delay,5),p(this),l,function(e,n){var i=t.config.beforeReport;if("function"==typeof i&&(e=e.filter((function(e){return!1!==i(e)}))),e.length){var r=JSON.parse(JSON.stringify(e));return t.lifeCycle.emit("beforeReport",r),n(e)}},function(e){t.send({url:t.config.url||"",data:r(e),method:"post",contentType:"application/x-www-form-urlencoded"},(function(){var n=t.config.onReport;"function"==typeof n&&e.forEach((function(e){n(e)}))}))}]),this._timeMap={},this._customTimePipeline=g([f(this.config.delay),function(e){t.send({url:t.config.customTimeUrl+"?version="+t.config.version+"&payload="+encodeURIComponent(JSON.stringify({custom:e}))})}])}return t.prototype.init=function(e,n){var i=this;this.setConfig(e),t.installedPlugins.forEach((function(e){e.call(i,n)})),this.lifeCycle.emit("onInited")},t.prototype.setConfig=function(e){return Object.assign(this.config,e),this.bean.id=this.config.id||"",this.bean.uin=this.config.uin||"",this.bean.version=this.config.version||0,this.lifeCycle.emit("onConfigChange",e),this.config},t.prototype.extendBean=function(e,t){this.bean[e]=t},t.use=function(e){-1===t.installedPlugins.indexOf(e)&&t.installedPlugins.push(e)},t.prototype.send=function(e,t,n){throw new Error('You need to override "send" method')},t.prototype._sendSDKError=function(e){this.send({url:"https://aegis.qq.com/collect?id=1085&msg[0]="+encodeURIComponent(a(e))+"&level[0]=2&from="+this.config.id+"&count=1&version=1.11.1",addBean:!1,method:"get"})},t.prototype.info=function(t){this._normalLogPipeline({msg:t,level:e.INFO})},t.prototype.infoAll=function(t){this._normalLogPipeline({msg:t,level:e.INFO_ALL})},t.prototype.report=function(t){this._normalLogPipeline({msg:t,level:e.REPORT})},t.prototype.reportPv=function(e){e&&this.send({url:this.config.url+"/"+e,addBean:!1})},t.prototype.reportTime=function(e,t){"string"==typeof e?"number"==typeof t?this._submitCustomTime(e,t):console.warn("reportTime 的第二个参数必须为 number 类型哟"):console.warn("reportTime 的第一个参数必须为开发者平台申请的 key 值")},t.prototype.time=function(e){"string"==typeof e?this._timeMap[e]?console.warn("Timer "+e+" already exists"):this._timeMap[e]=Date.now():console.warn("time 的第一个参数必须传入开发者平台申请到的 key 值")},t.prototype.timeEnd=function(e){"string"==typeof e?this._timeMap[e]?(this._submitCustomTime(e,Date.now()-this._timeMap[e]),delete this._timeMap[e]):console.warn("Timer "+e+" does not exist"):console.warn("timeEnd 的第一个参数必须传入开发者平台申请到的 key 值")},t.prototype._submitCustomTime=function(e,t){this._customTimePipeline({name:e,duration:t})},t.installedPlugins=[],t}();if (!exports.__esModule) Object.defineProperty(exports, "__esModule", { value: true });exports.default = m;if (!exports.__esModule) Object.defineProperty(exports, "__esModule", { value: true });Object.defineProperty(exports, 'LOG_TYPE', { enumerable: true, configurable: true, get: function() { return e; } });Object.defineProperty(exports, 'getDefaultConfig', { enumerable: true, configurable: true, get: function() { return n; } });
//# sourceMappingURL=aegiscore.min.js.map

}, function(modId) {var map = {}; return __REQUIRE__(map[modId], modId); })
return __REQUIRE__(1587527349007);
})()
//# sourceMappingURL=index.js.map